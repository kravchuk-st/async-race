(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var r=n.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={garagePage:1,carsCount:0,animation:{},winnerPage:1,winnersCount:0,winId:"",sort:"",order:""},n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},n.apply(this,arguments)},r=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},a=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},i="http://127.0.0.1:3000",s=i+"/garage",o=i+"/winners",c=i+"/engine",u=function(e,t){return e&&t?"&_sort="+e+"&_order="+t:""},l=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(s+"/"+e)];case 1:return[2,t.sent().json()]}}))}))},d=function(e,n){return void 0===e&&(e=t.garagePage),void 0===n&&(n=7),r(void 0,void 0,void 0,(function(){var r,i,o;return a(this,(function(a){switch(a.label){case 0:return[4,fetch(s+"?_page="+e+"&_limit="+n)];case 1:return[4,(r=a.sent()).json()];case 2:return i=a.sent(),o=r.headers.get("X-Total-Count"),document.querySelector(".cars").innerHTML="",t.carsCount=+o,x(),A(i),[2]}}))}))},b=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(s,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})];case 1:return[2,t.sent().json()]}}))}))},f=function(e,t){return r(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,fetch(s+"/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})];case 1:return[2,n.sent().json()]}}))}))},h=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(s+"/"+e,{method:"DELETE"})];case 1:return[2,t.sent().json()]}}))}))},v=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(c+"?id="+e+"&status=started",{method:"PATCH"})];case 1:return[2,t.sent().json()]}}))}))},m=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(c+"?id="+e+"&status=stopped",{method:"PATCH"})];case 1:return[2,t.sent().json()]}}))}))},p=function(e){return r(void 0,void 0,void 0,(function(){var r,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,fetch(c+"?id="+e+"&status=drive",{method:"PATCH"}).catch()];case 1:return 200===(r=a.sent()).status&&""===t.winId&&(t.winId=e),200===r.status?[3,2]:(i={success:!1},[3,4]);case 2:return s=[{}],[4,r.json()];case 3:i=n.apply(void 0,s.concat([a.sent()])),a.label=4;case 4:return[2,i]}}))}))},g=function(e,n,i,s){return void 0===e&&(e=t.winnerPage),void 0===n&&(n=10),void 0===i&&(i=t.sort),void 0===s&&(s=t.order),r(void 0,void 0,void 0,(function(){var r,c,l;return a(this,(function(a){switch(a.label){case 0:return[4,fetch(o+"?_page="+e+"&_limit="+n+u(i,s))];case 1:return[4,(r=a.sent()).json()];case 2:return c=a.sent(),l=r.headers.get("X-Total-Count"),t.winnersCount=+l,k(),E(c),[2]}}))}))},y=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(o+"/"+e)];case 1:return[2,t.sent().json()]}}))}))},w=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(o,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})];case 1:return[2,t.sent().json()]}}))}))},S=function(e){return r(void 0,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,fetch(o+"/"+e,{method:"DELETE"})];case 1:return[2,t.sent().json()]}}))}))},C=function(){return r(void 0,void 0,void 0,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,fetch(o)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent().map((function(e){return e.id}))]}}))}))},_=function(e,t){return r(void 0,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,fetch(o+"/"+e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})];case 1:return[2,n.sent().json()]}}))}))},T=function(e,t){return r(void 0,void 0,void 0,(function(){var n,r;return a(this,(function(a){switch(a.label){case 0:return n={},[4,C()];case 1:return a.sent().includes(+e)?[4,y(e)]:[3,4];case 2:return r=a.sent(),n.wins=++r.wins,n.time=t<r.time?t:r.time,[4,_(e,n)];case 3:return a.sent(),[3,6];case 4:return n.id=+e,n.wins=1,n.time=t,[4,w(n)];case 5:a.sent(),a.label=6;case 6:return[4,g()];case 7:return a.sent(),[2]}}))}))};const q=e.p+"img/car.svg",L=e.p+"img/finish.svg";var P=document.querySelector("body"),A=function(e){var t=document.querySelector(".cars");e.forEach((function(e){var n=document.createElement("div");n.classList.add("car-item"),n.innerHTML='\n    <div class="car-item__header">\n      <button class="car-btn btn-select btn-reset" type="button" data-carId="'+e.id+'">SELECT</button>\n      <button class="car-btn btn-remove btn-reset" type="button" data-carId="'+e.id+'">REMOVE</button>\n      <span class="car-name">'+e.name+'</span>\n    </div>\n    <div class="car-item__body">\n      <div class="car-item-btns">\n        <button class="car-btn btn-start btn-reset" type="button" data-carId="'+e.id+'">A</button>\n        <button class="car-btn btn-stop btn-reset" type="button" disabled data-carId="'+e.id+'">B</button>\n      </div>\n      <svg class="car-item__img" style="color: '+e.color+';" data-carId="'+e.id+'">\n        <use xlink:href="'+q+'#car"></use>\n      </svg>\n      <img class="car-item__finish" src="'+L+'" alt="..." data-carId="'+e.id+'">\n    </div>',t.appendChild(n)}))},E=function(e){return n=void 0,r=void 0,i=function(){var n,r,a,i,s,o,c;return function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}}(this,(function(u){switch(u.label){case 0:(n=document.querySelector(".winners-table__body")).innerHTML="",r=0,a=0,i=e,u.label=1;case 1:return a<i.length?(s=i[a],[4,l(s.id)]):[3,4];case 2:o=u.sent(),(c=document.createElement("tr")).innerHTML="\n    <td>"+(10*(t.winnerPage-1)+ ++r)+'</td>\n    <td>\n      <svg class="car-win__img" style="color: '+o.color+';" data-carId="'+s.id+'">\n        <use xlink:href="'+q+'#car"></use>\n      </svg>\n    </td>\n    <td>'+o.name+"</td>\n    <td>"+s.wins+"</td>\n    <td>"+s.time+"</td>",n.appendChild(c),u.label=3;case 3:return a++,[3,1];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function s(e){try{c(i.next(e))}catch(e){t(e)}}function o(e){try{c(i.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(s,o)}c((i=i.apply(n,r||[])).next())}));var n,r,a,i},x=function(){7*t.garagePage>=t.carsCount?document.querySelector(".right-item").disabled=!0:document.querySelector(".right-item").disabled=!1,t.garagePage>1?document.querySelector(".left-item").disabled=!1:document.querySelector(".left-item").disabled=!0,document.querySelector(".garage-length").innerText=""+t.carsCount,document.querySelector(".page-num").innerText=""+t.garagePage},k=function(){10*t.winnerPage>=t.winnersCount?document.querySelector(".win-right").disabled=!0:document.querySelector(".win-right").disabled=!1,t.winnerPage>1?document.querySelector(".win-left").disabled=!1:document.querySelector(".win-left").disabled=!0,document.querySelector(".winners-length").innerText=""+t.winnersCount,document.querySelector(".winners-page").innerText=""+t.winnerPage},M=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}},X=["Acura","Alfa Romeo","Alpine","Apollo","Apple","Aston Martin","Audi","Automobili Pininfarina","Bentley","BMW","Bollinger","Brilliance","Bugatti","Buick","BYD","Cadillac","Chana","Chery","Chevrolet","Chrysler","Citroen","Continental","CUPRA","Dacia","Daewoo","Daihatsu","Datsun","Detroit Electric","Dodge","DS Automobiles","FAW","Ferrari","Fiat","Fisker","Ford","Foxtron","Geely","Genesis","GMC","Great Wall","Haval","Honda","Hummer","Hyundai","Ineos","Infiniti","Iran Khodro","JAC","Jaguar","Jeep","JETOUR","KIA","Koenigsegg","Lamborghini","Lancia","Land Rover","Lexus","Lifan","Lincoln","Lordstown","Lotus","Lucid","LvChi","Lynk & Co","Maserati","Maybach","Mazda","MCLaren","Mercedes-Benz","MG","MINI","Mitsubishi","Nikola","NIO","Nissan","Opel","Pagani","Peugeot","Polestar","Porsche","Qoros","Range Rover","Ravon","Renault","Rimac","Rivian","Rolls-Royce","Saab","Saipa","SEAT","Skoda","Smart","SsangYong","SSC North America","Stellantis","Subaru","Suzuki","Tata","Tesla","Torsus","Toyota","VinFast","Volkswagen","Volvo","Xpeng","Zotye"],j=["Durango","Ram","Challenger","Charger","Grand Caravan","X7","X5","X3","X6 M","X6","X1","X4","C3 Aircross","C5 Aircross","Duster","CR-V","Corolla","C4 Cactus","DS3 Crossback","C1","C3","Berlingo Multispace","DS4 Crossback","UX 250h","NX 300h","LC 500","RX 350/200t","Rapid","Largus","IS 200t","LS 500h","RX","ES 200/250/350","Hatchback","CX-5","Sedan","CX-30","CX-9","CX-3","MX-5 Roadster","Phantom","Camry","Polo","Cullinan","Ghost","Dawn","Duster","Arkana","Sandero","Logan","Trafic Fourgon","Logan MCV","Captur","Kadjar","RAV4","Rio","Creta","Solaris"],I=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e};function D(e,t,n){var r=0,a={};return a.id=window.requestAnimationFrame((function i(s){r||(r=s);var o=s-r,c=Math.round(o*(t/n));e.style.transform="translateX("+Math.min(c,t)+"px)",c<t&&(a.id=window.requestAnimationFrame(i))})),a}var N=function(e){return M(void 0,void 0,void 0,(function(){var n,r,a,i,s,o,c;return R(this,(function(u){switch(u.label){case 0:return document.querySelector('.btn-start[data-carid="'+e+'"]').disabled=!0,[4,v(e)];case 1:return n=u.sent(),r=n.velocity,a=n.distance,i=Math.round(a/r),document.querySelector('.btn-stop[data-carid="'+e+'"]').disabled=!1,s=document.querySelector('.car-item__img[data-carid="'+e+'"]'),o=document.querySelector('.car-item__finish[data-carid="'+e+'"]'),c=o.offsetLeft-25,t.animation[e]=D(s,c,i),[4,p(e)];case 2:return u.sent().success||window.cancelAnimationFrame(t.animation[e].id),[2,{time:i}]}}))}))},F=function(e){return M(void 0,void 0,void 0,(function(){return R(this,(function(n){switch(n.label){case 0:return document.querySelector('.btn-stop[data-carid="'+e+'"]').disabled=!0,[4,m(e)];case 1:return n.sent(),document.querySelector('.btn-start[data-carid="'+e+'"]').disabled=!1,document.querySelector('.car-item__img[data-carid="'+e+'"]').style.transform="translateX(0)",t.animation[e]&&window.cancelAnimationFrame(t.animation[e].id),document.querySelector('.btn-start[data-carid="'+e+'"]').disabled=!1,[2]}}))}))},B=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function o(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}c((r=r.apply(e,t||[])).next())}))},G=function(e,t){var n,r,a,i,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function o(i){return function(o){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((a=(a=s.trys).length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,o])}}};P.innerHTML='<section>\n    <div class="tabs">\n      <div class="tabs__nav tabs-nav">\n        <div class="tabs-nav__item is-active" data-tab="tab-first">TO GARAGE</div>\n        <div class="tabs-nav__item" data-tab="tab-second">TO WINNERS</div>\n      </div>\n      <div class="tabs__content">\n        <div class="tab is-active tab-first">\n          <div class="menu">\n            <div class="menu__create">\n              <input class="create-input-text" type="text" autocomplete="off" placeholder="Auto">\n              <input class="create-input-color" type="color">\n              <button class="btn create-btn btn-reset">CREATE</button>\n            </div>\n            <div class="menu__change">\n              <input class="update-input-text" type="text" autocomplete="off" disabled>\n              <input class="update-input-color" type="color" disabled>\n              <button class="btn update-btn btn-reset" disabled data-carId="">UPDATE</button>\n            </div>\n            <div class="menu__btns">\n              <button class="btn race-btn btn-reset">RACE</button>\n              <button class="btn reset-btn btn-reset" disabled>RESET</button>\n              <button class="btn generate-btn btn-reset">GENERATE CARS</button>\n            </div>\n          </div>\n          <div class="garage-info">\n            <h1 class="garage-info__title">Garage (<span class="garage-length">'+t.carsCount+'</span>)</h1>\n            <h2 class="garage-info__subtitle">Page #<span class="page-num">'+t.garagePage+'</span></h2>\n          </div>\n          <div class="cars"></div>\n          <div class="garage-nav">\n            <button class="arrow-pagin left-item" disabled>PREW</button>\n            <button class="arrow-pagin right-item">NEXT</button>\n          </div>\n        </div>\n        <div class="tab tab-second">\n          <div class="winners-info">\n            <h1 class="winners-info__title">Winners (<span class="winners-length">'+t.winnersCount+'</span>)</h1>\n            <h2 class="winners-info__subtitle">Page #<span class="winners-page">'+t.winnerPage+'</span></h2>\n          </div>\n          <table class="winners-table">\n            <thead>\n              <tr>\n                <th>Number</th>\n                <th>Car</th>\n                <th>Name</th>\n                <th><button class="sort-by-win btn-reset">Wins</button></th>\n                <th><button class="sort-by-time btn-reset">Best time(s)</button></th>\n              </tr>\n            </thead>\n            <tbody class="winners-table__body">\n            </tbody>\n          </table>\n          <div class="winners-nav">\n            <button class="arrow-pagin win-left" disabled>PREW</button>\n            <button class="arrow-pagin win-right">NEXT</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <span class="message"></span>',function(){var e,t=document.querySelectorAll(".tabs-nav__item"),n=document.querySelectorAll(".tab");function r(r){var a;t.forEach((function(e){e.classList.remove("is-active")})),r.target.classList.add("is-active"),e=r.target.getAttribute("data-tab"),a=e,n.forEach((function(e){e.classList.contains(a)?e.classList.add("is-active"):e.classList.remove("is-active")}))}t.forEach((function(e){e.addEventListener("click",r)}))}(),d(),g(),document.body.addEventListener("click",(function(e){return B(void 0,void 0,void 0,(function(){var n,r,a,i,s,o,c,u,y,w,_,q,L,P,A,E,x,k,M,R,O,H,W;return G(this,(function(J){switch(J.label){case 0:return n=e.target,r=n.dataset.carid,n.classList.contains("message")||document.querySelector(".message").classList.remove("active"),n.classList.contains("generate-btn")?(n.disabled=!0,void 0===V&&(V=100),M=new Array(V).fill(1).map((function(e){return{name:X[Math.floor(Math.random()*X.length)]+" "+j[Math.floor(Math.random()*j.length)],color:I()}})),[4,Promise.all(M.map((function(e){return B(void 0,void 0,void 0,(function(){return G(this,(function(t){switch(t.label){case 0:return[4,b(e)];case 1:return[2,t.sent()]}}))}))})))]):[3,3];case 1:return J.sent(),[4,d()];case 2:J.sent(),n.disabled=!1,J.label=3;case 3:return n.classList.contains("create-btn")?(a=document.querySelector(".create-input-text").value,s=document.querySelector(".create-input-color").value,o={name:a,color:s},document.querySelector(".create-input-text").value="",document.querySelector(".create-input-color").value="#000000",[4,b(o)]):[3,6];case 4:return J.sent(),[4,d()];case 5:J.sent(),J.label=6;case 6:return n.classList.contains("update-btn")?(u=document.querySelector(".update-input-text"),y=document.querySelector(".update-input-color"),i=u.value,s=y.value,o={name:i,color:s},u.value="",y.value="#000000",u.disabled=!0,y.disabled=!0,n.disabled=!0,[4,f(r,o)]):[3,9];case 7:return J.sent(),[4,d()];case 8:J.sent(),J.label=9;case 9:return n.classList.contains("btn-select")?[4,l(r)]:[3,11];case 10:c=J.sent(),u=document.querySelector(".update-input-text"),y=document.querySelector(".update-input-color"),w=document.querySelector(".update-btn"),u.disabled=!1,u.value=c.name,y.disabled=!1,y.value=c.color,w.disabled=!1,w.dataset.carid=r,J.label=11;case 11:return n.classList.contains("btn-remove")?(--t.carsCount,7*(t.garagePage-1)===t.carsCount&&t.garagePage>1&&--t.garagePage,[4,h(r)]):[3,17];case 12:return J.sent(),[4,d()];case 13:return J.sent(),[4,C()];case 14:return J.sent().includes(+r)?(--t.winnersCount,10*(t.winnerPage-1)===t.winnersCount&&t.winnerPage>1&&--t.winnerPage,[4,S(r)]):[3,17];case 15:return J.sent(),[4,g()];case 16:J.sent(),J.label=17;case 17:return n.classList.contains("btn-start")?(n.disabled=!0,[4,v(r)]):[3,20];case 18:return _=J.sent(),q=_.velocity,L=_.distance,P=Math.round(L/q),document.querySelector('.btn-stop[data-carid="'+r+'"]').disabled=!1,x=document.querySelector('.car-item__img[data-carid="'+r+'"]'),A=document.querySelector('.car-item__finish[data-carid="'+r+'"]'),E=A.offsetLeft-25,t.animation[r]=D(x,E,P),[4,p(r)];case 19:J.sent().success||window.cancelAnimationFrame(t.animation[r].id),J.label=20;case 20:return n.classList.contains("btn-stop")?(n.disabled=!0,[4,m(r)]):[3,22];case 21:J.sent(),(x=document.querySelector('.car-item__img[data-carid="'+r+'"]')).style.transform="translateX(0)",t.animation[r]&&window.cancelAnimationFrame(t.animation[r].id),document.querySelector('.btn-start[data-carid="'+r+'"]').disabled=!1,J.label=22;case 22:if(n.classList.contains("race-btn")&&(n.disabled=!0,k=0,t.winId="",Array.from(document.querySelectorAll(".car-item__img")).forEach((function(e){return B(void 0,void 0,void 0,(function(){var n,r,a,i,s;return G(this,(function(o){switch(o.label){case 0:return n=e.dataset.carid,[4,N(n)];case 1:return r=o.sent().time,""===t.winId||0!==k?[3,4]:(k++,[4,l(n)]);case 2:return a=o.sent(),i=(r/1e3).toFixed(2),(s=document.querySelector(".message")).innerText="",s.innerText=a.name+" went first ("+i+"s)",s.classList.add("active"),[4,T(n,+i)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))})),document.querySelector(".reset-btn").disabled=!1),!n.classList.contains("reset-btn"))return[3,27];n.disabled=!0,M=Array.from(document.querySelectorAll(".car-item__img")),R=0,O=M,J.label=23;case 23:return R<O.length?(H=O[R],W=H.dataset.carid,[4,F(W)]):[3,26];case 24:J.sent(),J.label=25;case 25:return R++,[3,23];case 26:document.querySelector(".race-btn").disabled=!1,J.label=27;case 27:return n.classList.contains("sort-by-win")?("time"===t.sort&&(t.order="",document.querySelector(".sort-by-time").innerText="Best time(s)"),t.sort="wins",""===t.order||"DESC"===t.order?(t.order="ASC",n.innerText="Wins ↑"):(t.order="DESC",n.innerText="Wins ↓"),[4,g()]):[3,29];case 28:J.sent(),J.label=29;case 29:return n.classList.contains("sort-by-time")?("wins"===t.sort&&(t.order="",document.querySelector(".sort-by-win").innerText="Wins"),t.sort="time",""===t.order||"DESC"===t.order?(t.order="ASC",n.innerText="Best time(s) ↑"):(t.order="DESC",n.innerText="Best time(s) ↓"),[4,g()]):[3,31];case 30:J.sent(),J.label=31;case 31:return n.classList.contains("right-item")?(++t.garagePage,[4,d()]):[3,33];case 32:J.sent(),document.querySelector(".reset-btn").disabled=!0,document.querySelector(".race-btn").disabled=!1,J.label=33;case 33:return n.classList.contains("left-item")?(--t.garagePage,[4,d()]):[3,35];case 34:J.sent(),document.querySelector(".reset-btn").disabled=!0,document.querySelector(".race-btn").disabled=!1,J.label=35;case 35:return n.classList.contains("win-right")?(++t.winnerPage,[4,g()]):[3,37];case 36:J.sent(),J.label=37;case 37:return n.classList.contains("win-left")?(--t.winnerPage,[4,g()]):[3,39];case 38:J.sent(),J.label=39;case 39:return[2]}var V}))}))}))})();
//# sourceMappingURL=main.js.map